{% extends 'attendance_records/base.html' %}

{% block title %}Attendance Records{% endblock %}

{% block heading %}Attendance Records{% endblock %}

{% block content %}
  <div class="mb-3">Role: {{ request.user_role }}</div>
  {% if request.user_role == 'student' %}
    <div style="width:100px;height:100px;background:blue;margin-bottom:12px;"></div>
  {% elif request.user_role == 'tutor' %}
    <div style="width:100px;height:100px;background:red;margin-bottom:12px;"></div>
  {% elif request.user_role == 'admin' %}
    <div style="width:100px;height:100px;background:purple;margin-bottom:12px;"></div>
  {% endif %}

  <p>
    <a class="btn btn-primary" href="{% url 'attendance_records:attendance_add' %}">Add Record</a>
    <a class="btn btn-secondary" href="{% url 'attendance_records:index' %}">Home</a>
  </p>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Date</th>
        <th>Student</th>
        <th>Course</th>
        <th>Status</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
    {% for r in records %}
      <tr>
        <td>{{ r.date }}</td>
        <td>{{ r.student }}</td>
        <td>{{ r.course }}</td>
        <td>{{ r.get_status_display }}</td>
        <td>
          <a class="btn btn-sm btn-outline-secondary" href="{% url 'attendance_records:attendance_edit' r.pk %}">Edit</a>
          <a class="btn btn-sm btn-outline-danger" href="{% url 'attendance_records:attendance_delete' r.pk %}">Delete</a>
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="5">No records yet.</td></tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock %}
