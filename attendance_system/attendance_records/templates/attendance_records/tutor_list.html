{% extends "attendance_records/base.html" %}

{% block title %}Tutors - Attendance System{% endblock %}

{% block page_title %}Tutors Management{% endblock %}

{% block content %}
<div class="mb-4">
    <a href="{% url 'attendance_records:tutors_add' %}" class="btn btn-primary">
        <i class="bi bi-person-plus"></i> Add New Tutor
    </a>
</div>

{% if tutors %}
<div class="table-responsive">
    <table class="table table-striped">
        <thead>
            <tr>
                <th><i class="bi bi-id-card"></i> Tutor ID</th>
                <th><i class="bi bi-person"></i> Name</th>
                <th><i class="bi bi-envelope"></i> Email</th>
                <th><i class="bi bi-book"></i> Courses</th>
                <th><i class="bi bi-calendar"></i> Created</th>
                <th style="text-align: center;"><i class="bi bi-gear"></i> Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for tutor in tutors %}
            <tr>
                <td><strong>{{ tutor.tutor_id }}</strong></td>
                <td>{{ tutor.first_name }} {{ tutor.last_name }}</td>
                <td>{{ tutor.email|default:"—" }}</td>
                <td>
                    {% if tutor.courses.all %}
                        {% for course in tutor.courses.all %}
                            <span class="badge bg-info">{{ course.code }}</span>
                        {% endfor %}
                    {% else %}
                        <span class="text-muted">—</span>
                    {% endif %}
                </td>
                <td>{{ tutor.created_at|date:"M d, Y" }}</td>
                <td style="text-align: center;">
                    <a href="{% url 'attendance_records:tutors_edit' tutor.pk %}" 
                       class="btn btn-sm btn-outline-secondary" title="Edit">
                        <i class="bi bi-pencil"></i>
                    </a>
                    <a href="{% url 'attendance_records:tutors_delete' tutor.pk %}" 
                       class="btn btn-sm btn-outline-danger" title="Delete">
                        <i class="bi bi-trash"></i>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="alert alert-info text-center" style="padding: 3rem;">
    <i class="bi bi-inbox" style="font-size: 2rem; margin-bottom: 1rem; display: block;"></i>
    <h5>No Tutors Yet</h5>
    <p>Get started by adding your first tutor.</p>
    <a href="{% url 'attendance_records:tutors_add' %}" class="btn btn-primary">
        <i class="bi bi-person-plus"></i> Add Tutor
    </a>
</div>
{% endif %}
{% endblock %}